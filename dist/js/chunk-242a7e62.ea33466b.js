(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-242a7e62"],{"4edf":function(e,t,s){"use strict";var o=s("c086"),n=s.n(o);n.a},c086:function(e,t,s){},f4f7:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"page"},[e._m(0),s("div",{staticClass:"page__inner"},[s("section",{staticClass:"title"},[s("h1",{staticClass:"title"},[e._v(e._s(e.project.json.title))])]),s("section",{staticClass:"page-header"},[s("div",{staticClass:"page-header__img",style:{"background-color":e.project.json.color}},[s("image-loader",{attrs:{src:"https://simon-renault.com/images/cover/large/"+e.project.json.image.src+".jpg"||!1,width:"100%",height:"100%"}})],1),s("div",{staticClass:"page-header__overlay"}),s("div",{staticClass:"page-header__content"})]),e.is_admin?s("section",{staticClass:"params-editor"},[s("v-input",{staticClass:"params-editor__url",attrs:{id:"fmp1",label:"Image URL"},model:{value:e.project.json.image.src,callback:function(t){e.$set(e.project.json.image,"src",t)},expression:"project.json.image.src"}}),s("v-input",{staticClass:"params-editor__title",attrs:{id:"fmp2",label:"Title"},model:{value:e.project.json.title,callback:function(t){e.$set(e.project.json,"title",t)},expression:"project.json.title"}}),s("v-input",{attrs:{id:"fmp4",label:"Exerpt"},model:{value:e.project.json.exerpt,callback:function(t){e.$set(e.project.json,"exerpt",t)},expression:"project.json.exerpt"}}),s("v-input",{staticClass:"params-editor__url",attrs:{id:"fmp5",label:"url"},model:{value:e.project.url,callback:function(t){e.$set(e.project,"url",t)},expression:"project.url"}}),s("v-input",{staticClass:"params-editor__color",attrs:{id:"fmp3",label:"color"},model:{value:e.project.json.color,callback:function(t){e.$set(e.project.json,"color",t)},expression:"project.json.color"}}),s("select",{directives:[{name:"model",rawName:"v-model",value:e.project.json.cat,expression:"project.json.cat"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.project.json,"cat",t.target.multiple?s:s[0])}}},e._l(e.get_all_cats,function(t){return s("option",{domProps:{value:t.id}},[e._v(e._s(t.title))])}),0),s("button",{staticClass:"button",on:{click:e.onSave}},[s("span",[e._v("save")])])],1):e._e(),s("section",{staticClass:"editor"},[s("editor-floating-menu",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.commands,n=t.isActive,a=t.menu;return s("div",{staticClass:"editor__floating-menu",class:{"is-active":a.isActive},style:"top: "+a.top+"px"},[s("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:1})},on:{click:function(e){return o.heading({level:2})}}},[e._v("H2")])])}}])}),s("editor-content",{staticClass:"text-container",attrs:{editor:e.editor}})],1),s("section",{staticClass:"section"},[e._m(1),s("div",{staticClass:"section__content"},[s("ul",{staticClass:"grid"},[e.is_admin?s("select",{directives:[{name:"model",rawName:"v-model",value:e.project.json.projects[0],expression:"project.json.projects[0]"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.project.json.projects,0,t.target.multiple?s:s[0])}}},e._l(e.get_all_projects_ids,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])}),0):e._e(),e.is_admin?s("select",{directives:[{name:"model",rawName:"v-model",value:e.project.json.projects[1],expression:"project.json.projects[1]"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.project.json.projects,1,t.target.multiple?s:s[0])}}},e._l(e.get_all_projects_ids,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])}),0):e._e(),e.is_admin?s("select",{directives:[{name:"model",rawName:"v-model",value:e.project.json.projects[2],expression:"project.json.projects[2]"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.project.json.projects,2,t.target.multiple?s:s[0])}}},e._l(e.get_all_projects_ids,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])}),0):e._e(),e._l(e.get_projects_from_ids(e.project.json.projects),function(t){return t?s("v-project-card",{key:t.json.title,attrs:{project:t}}):s("div",{staticClass:"button card empty"},[s("div",{staticClass:"button__inner"},[s("span",[e._v("Add project")])])])})],2)])])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page__grid--layer"},[s("div",{staticClass:"page__grid--layer__grid"},[s("span"),s("span"),s("span")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"section__header"},[s("h3",{staticClass:"section__jumper"},[e._v("Solving real problems")]),s("h2",{staticClass:"section__title"},[e._v("Work & projects")])])}],a=s("f499"),r=s.n(a),i=s("cebc"),c=s("4dd1"),l=s.n(c),p=s("ee8c"),u=s.n(p),d=s("2f62"),_=s("cd42"),m=s("f23d"),v={components:{EditorContent:_["b"],EditorMenuBar:_["d"],EditorMenuBubble:_["e"],EditorFloatingMenu:_["c"]},data:function(){var e=this;return{project:{url:"",json:{title:"no title",exerpt:"no exerpt",projects:[null,null,null],color:"#F1F2F7",image:{alt:"",src:""}}},id:null,editor:new _["a"]({editable:!0,extensions:[new m["a"],new m["c"],new m["e"],new m["g"],new m["h"]({levels:[2,3,4]}),new m["l"],new m["m"],new m["t"],new m["u"],new m["b"],new m["d"],new m["j"],new m["k"],new m["o"],new m["v"],new m["n"]({emptyClass:"is-empty",emptyNodeText:"Write something â€¦"}),new m["i"],new m["p"],new m["r"],new m["q"],new m["s"],new m["f"]({languages:{javascript:l.a,css:u.a}}),new Image],onUpdate:function(t){var s=t.getHTML;e.html=s()}}),html:"null",editable:this.is_admin}},watch:{editable:function(){this.editor.setOptions({editable:this.editable})}},beforeDestroy:function(){this.editor.destroy(),document.removeEventListener("keydown",this.onKepPress,!1)},methods:Object(i["a"])({},Object(d["b"])(["fetch_projects"]),{onKepPress:function(e){event.metaKey&&"s"===event.key&&(event.preventDefault(),this.onSave())},onSave:function(){var e={url:this.project.url,content:this.editor.getHTML(),json:r()(this.project.json)};axios.post("https://api.simon-renault.com/pages?token=".concat(localStorage.getItem("token")),e),this.$router.push({path:"/"})}}),computed:Object(i["a"])({},Object(d["c"])(["get_projects_from_ids","get_projects_from_id","get_all_projects_ids","is_admin","get_all_cats"])),created:function(){this.id=this.$route.params.id},mounted:function(){this.html=this.editor.getHTML(),document.addEventListener("keydown",this.onKepPress,!1),this.editor.setContent("<p></p>")}},j=v,f=(s("4edf"),s("2877")),g=Object(f["a"])(j,o,n,!1,null,null,null);t["default"]=g.exports}}]);