(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46e23e93"],{"4fa1":function(t,e,r){},"57d2":function(t,e,r){"use strict";var s=r("4fa1"),a=r.n(s);a.a},"616c":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"page",attrs:{itemscope:"",itemtype:"http://schema.org/Article"}},[r("v-page-grid"),r("div",{staticClass:"page__inner"},[r("section",{staticClass:"title"},[r("h1",{staticClass:"title",attrs:{itemprop:"headline"}},[t._v(t._s(t.project.json.title))]),r("meta",{attrs:{itemprop:"author",content:"Simon renault"}}),r("meta",{attrs:{itemprop:"datePublished",content:"2019-04-04"}}),r("meta",{attrs:{itemprop:"publisher",content:"Simon renault"}}),r("meta",{attrs:{itemprop:"title",content:t.project.json.title}})]),r("section",{staticClass:"page-header"},[r("div",{ref:"img",staticClass:"page-header__img"},[r("image-loader",{attrs:{src:"https://simon-renault.com/images/cover/large/"+t.project.json.image.src+".jpg",alt:t.project.json.title+" cover image",width:"100%",height:"100%"}}),r("meta",{attrs:{itemprop:"image",content:t.project.json.image.src}})],1),r("div",{staticClass:"page-header__overlay"}),r("div",{staticClass:"page-header__content"},[r("router-link",{staticClass:"button back",class:{light:"true"==t.project.json.isLight},attrs:{to:"/","aria-label":"Back to homepage"}},[r("svg",{staticClass:"feather feather-chevron-left",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("polyline",{attrs:{points:"15 18 9 12 15 6"}})])])],1)]),r("transition",{attrs:{name:"fade"}},[t.isLoaded?t._e():r("section",{staticClass:"place"},[r("v-project-placeholder")],1)]),r("transition",{attrs:{name:"fade"}},[t.isLoaded?r("section",{staticClass:"editor"},[r("h1",{staticClass:"title"},[t._v(t._s(t.project.json.title))]),r("div",{ref:"text",staticClass:"ProseMirror",attrs:{itemprop:"mainEntityOfPage"},domProps:{innerHTML:t._s(t.project.content)}},[r("div",{staticClass:"placeolder"})])]):t._e()]),r("section",{staticClass:"section last"},[t._m(0),r("div",{staticClass:"section__content prevent-width"},[r("ul",{staticClass:"grid mobile-scroll",attrs:{itemscope:"",itemtype:"http://www.schema.org/SiteNavigationElement"}},t._l(t.projects,function(e){return r("li",{staticClass:"item"},[r("v-project-card",{key:t.get_projects_from_id(e.url),attrs:{project:t.get_projects_from_id(e)}})],1)}),0)])]),r("footer",{staticClass:"back-to-home",on:{click:function(e){return t.$router.push("/")}}},[t._m(1)])],1)],1)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"section__header"},[r("h3",{staticClass:"section__jumper"},[t._v("You might also like")]),r("h2",{staticClass:"section__title"},[t._v("Other Projects")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"back-to-home__content"},[r("span",[t._v("back home")])])}],i=(r("96cf"),r("3b8d")),o=(r("ac6a"),r("5df3"),r("4f7f"),r("75fc")),n=r("cebc"),c=r("2f62"),l=r("a026"),p={data:function(){return{isLoaded:!1,url:"",projectData:{projectImage:"",porjectDescription:"",projectTitle:"",projectColor:""}}},metaInfo:function(){return{title:"Simon Renault | "+this.project.json.title,meta:[{property:"og:url",content:"https://simon-renault.com/projects/"+this.url},{property:"og:image",content:this.project.json.image.src},{property:"og:title",content:"Simon Renault  - "+this.project.json.title},{property:"og:type",content:"article"}]}},computed:Object(n["a"])({},Object(c["c"])(["get_projects_from_id","get_projects_from_ids","get_all_projects_ids","is_admin","get_all_cats"]),{projects:function(){var t=this;if(this.project){var e=Object(o["a"])(new Set(this.project.json.projects.map(function(t){return t}))).splice(1,3).filter(function(e){return e!==t.$route.params.id});return e}},project:function(){var t=this.get_projects_from_id(this.url);return t||{title:"",json:{image:{src:""},title:"",projects:[]}}}}),methods:{fetchContent:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,axios.get("https://api.simon-renault.com/pages/".concat(this.$route.params.id)).then(function(t){var r=t.data;e.renderContent(r)},function(t){e.$router.push("/projects")});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),renderContent:function(t){var e=this;this.project.content=t.content,this.isLoaded=!0,this.$nextTick(function(){var t=Object(o["a"])(e.$refs.text.querySelectorAll(".text-img"))||[];t.map(function(t){var e=t.getAttribute("src")||"",r=t.getAttribute("alt")||"",s=t.getAttribute("classname")||"",a=t.getAttribute("ratio")||"",i={src:e,alt:r,className:s,ratio:a};function o(t){var e=new Image,r=0;e.src=t;e.height,e.width;return console.log(r),r}return o(e),new l["a"]({template:' \n                                    <div class="image" >\n                                        <image-loader class="image__preview" :src="src" :alt="alt" :ratio="ratio" :className="className" ></image-loader>\n                                        <span class="alt">{{alt}}</span>\n                                    </div>\n                                ',data:function(){return Object(n["a"])({},i)},computed:{ratioStyle:function(){}}}).$mount(t)})})}},created:function(){this.url=this.$route.params.id;this.get_projects_from_id(this.url);this.fetchContent()},mounted:function(){var t=this;this.$nextTick(function(){t.fetchContent()})}},u=p,m=(r("57d2"),r("2877")),h=Object(m["a"])(u,s,a,!1,null,null,null);e["default"]=h.exports}}]);